<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/apt/usage.apt.vm at 2025-05-27
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <meta name="author" content="Jerome Lacoste" />
    <meta name="date" content="2008-10-10" />
    <title>Usage – Exec Maven Plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.1.0.min.js"></script>
    <!-- Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        _paq.push(['disableCookies']);
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);

        (function() {
            var u="https://analytics.apache.org/";
            _paq.push(['setTrackerUrl', u+'/matomo.php']);
            _paq.push(['setSiteId', '18']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.async=true; g.src=u+'/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <!-- End Matomo Code -->
    <style>.github-fork-ribbon:before { background-color: gray; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/mojohaus/exec-maven-plugin" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="../"><img src="../images/mojo_logo.png" alt="MojoHaus" /></a></h1></div></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href="../">MojoHaus</a><span class="divider">/</span></li>
      <li><a href="./">Exec Maven Plugin</a><span class="divider">/</span></li>
    <li class="active">Usage <a href="https://github.com/mojohaus/exec-maven-plugin/tree/master/src/site/apt/usage.apt.vm"><img src="./images/accessories-text-editor.png" alt="Edit" /></a></li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2025-05-27</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 3.5.1</li>
        <li class="pull-right"><a href="https://maven.apache.org/">Maven</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html">Introduction</a></li>
    <li><a href="plugin-info.html">Goals</a></li>
    <li class="active"><a>Usage</a></li>
   <li class="nav-header">Examples</li>
    <li><a href="examples/example-exec-for-java-programs.html">Running Java programs with exec:exec</a></li>
    <li><a href="examples/example-exec-or-java-change-classpath-scope.html">Changing the classpath scope when running Java programs</a></li>
    <li><a href="examples/example-exec-using-plugin-dependencies.html">Using plugin dependencies with exec:exec</a></li>
    <li><a href="examples/example-exec-using-toolchains.html">Using toolchains with exec:exec</a></li>
    <li><a href="examples/example-exec-using-executabledependency.html">Using executable binary dependencies instead of local executables</a></li>
    <li><a href="examples/example-java-project-properties.html">Forward maven system properties to the main</a></li>
    <li><a href="examples/example-java-runnable.html">Execute a Runnable instead of a main</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="Usage"></a>
<h1>Usage</h1><section><a id="Exec_goal"></a>
<h2>Exec goal</h2>
<p>You can formally specify all the relevant execution information in the plugin configuration. Depending on your use case, you can also specify some or all information using system properties.</p><section><a id="Command_line"></a>
<h3>Command line</h3>
<p>Using system properties you would just execute it like in the following example.</p>
<pre>mvn exec:exec -Dexec.executable=&quot;maven&quot; [-Dexec.workingdir=&quot;/tmp&quot;] -Dexec.args=&quot;-X myproject:dist&quot;</pre></section><section><a id="POM_Configuration"></a>
<h3>POM Configuration</h3>
<p>Add a configuration similar to the following to your POM:</p>
<pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.5.1&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            ...
            &lt;goals&gt;
              &lt;goal&gt;exec&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;executable&gt;maven&lt;/executable&gt;
          &lt;!-- optional --&gt;
          &lt;workingDirectory&gt;/tmp&lt;/workingDirectory&gt;
          &lt;arguments&gt;
            &lt;argument&gt;-X&lt;/argument&gt;
            &lt;argument&gt;myproject:dist&lt;/argument&gt;
            ...
          &lt;/arguments&gt;
          &lt;environmentVariables&gt;
            &lt;LANG&gt;en_US&lt;/LANG&gt;
          &lt;/environmentVariables&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
   ...
&lt;/project&gt;</pre></section></section><section><a id="Java_goal"></a>
<h2>Java goal</h2>
<p>This goal helps you run a Java program within the same VM as Maven.</p><section><a id="Differences_compared_to_plain_command_line"></a>
<h3>Differences compared to plain command line</h3>
<p>The goal goes to great length to try to mimic the way the VM works, but there are some subtle differences. Today all differences come from the way the goal deals with <b>thread management</b>.</p>
<table class="table table-bordered table-striped">
<tr class="a">
<td style="text-align: left;">command line</td>
<td style="text-align: left;">Java Mojo</td></tr>
<tr class="b">
<td style="text-align: left;">The VM exits as soon as the only remaining threads are daemon threads</td>
<td style="text-align: left;">By default daemon threads are joined and interrupted once all known non daemon threads have quit. The join timeout is customisable The user might wish to further cleanup by stopping the unresponsive threads. The user can disable the full extra thread management (interrupt/join/[stop])</td></tr></table>
<p>Read the documentation for the <a href="./java-mojo.html">java goal</a> for more information on how to configure this behavior.</p>
<p>If you find out that these differences are unacceptable for your case, you may need to use the <a href="./exec-mojo.html"> exec goal</a> to wrap your Java executable.</p></section><section><a id="Command_line_1"></a>
<h3>Command line</h3>
<p>If you want to execute Java programs in the same VM, you can either use the command line version</p>
<pre>mvn exec:java -Dexec.mainClass=&quot;com.example.Main&quot; [-Dexec.args=&quot;argument1&quot;] ...</pre></section><section><a id="POM_Configuration_1"></a>
<h3>POM Configuration</h3>
<p>or you can configure the plugin in your POM:</p>
<pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.5.1&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            ...
            &lt;goals&gt;
              &lt;goal&gt;java&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;mainClass&gt;com.example.Main&lt;/mainClass&gt;
          &lt;arguments&gt;
            &lt;argument&gt;argument1&lt;/argument&gt;
            ...
          &lt;/arguments&gt;
          &lt;systemProperties&gt;
            &lt;systemProperty&gt;
              &lt;key&gt;myproperty&lt;/key&gt;
              &lt;value&gt;myvalue&lt;/value&gt;
            &lt;/systemProperty&gt;
            ...
          &lt;/systemProperties&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
   ...
&lt;/project&gt;</pre>
<p><b>Note:</b> The <code>java</code> goal doesn't spawn a new process. Any VM specific option that you want to pass to the executed class must be passed to the Maven VM using the <code>MAVEN_OPTS</code> environment variable. E.g.</p>
<pre>MAVEN_OPTS=-Xmx1024m</pre>
<p>Otherwise consider using the <code>exec</code> goal.</p></section></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2005–2025
<a href="https://www.mojohaus.org">MojoHaus</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>